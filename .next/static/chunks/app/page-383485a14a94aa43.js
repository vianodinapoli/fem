(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67:function(){},2061:function(){},1931:function(e,a,d){Promise.resolve().then(d.bind(d,3129))},3129:function(e,a,d){"use strict";d.r(a),d.d(a,{default:function(){return b}});var s=d(3827),l=d(4090);d(5355);var r=d(3472),t=(0,r.$)("b53bd52beb7ecf9164cf5b0fdbf96703e62cc312"),n=(0,r.$)("c2dfd6f6d49c48ba3a4d06f9f82570c03c9d5be4");function i(e){var a;let{initial:d,modoEdicao:r,setModoEdicao:i,setRegistro:o}=e,c=(0,l.useRef)(null);async function x(e){var a;e.preventDefault();let s=new FormData(e.currentTarget);r&&(null==d?void 0:d.id)?(s.append("id",d.id.toString()),await n(s)):await t(s),null===(a=c.current)||void 0===a||a.reset(),i(!1),o(null)}return(0,s.jsxs)("form",{ref:c,onSubmit:x,className:"p-4 bg-white shadow rounded-xl space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"Data"}),(0,s.jsx)("input",{type:"date",name:"data",defaultValue:null==d?void 0:null===(a=d.data)||void 0===a?void 0:a.split("T")[0],required:!0,className:"w-full border p-2 rounded"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"C\xf3digo"}),(0,s.jsx)("input",{type:"text",name:"codigo",defaultValue:null==d?void 0:d.codigo,required:!0,className:"w-full border p-2 rounded"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"Quantidade"}),(0,s.jsx)("input",{type:"number",name:"quantidade",defaultValue:(null==d?void 0:d.quantidade)||1,required:!0,className:"w-full border p-2 rounded"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"Descri\xe7\xe3o"}),(0,s.jsx)("input",{type:"text",name:"descricao",defaultValue:null==d?void 0:d.descricao,required:!0,className:"w-full border p-2 rounded"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"Observa\xe7\xe3o"}),(0,s.jsx)("textarea",{name:"observacao",defaultValue:null==d?void 0:d.observacao,className:"w-full border p-2 rounded"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,s.jsx)("label",{children:"Estado"}),(0,s.jsxs)("select",{name:"estado",defaultValue:(null==d?void 0:d.estado)||"Novo",className:"w-full border p-2 rounded",children:[(0,s.jsx)("option",{value:"Novo",children:"Novo"}),(0,s.jsx)("option",{value:"Bom",children:"Bom"}),(0,s.jsx)("option",{value:"Danificado",children:"Danificado"})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:r?"Atualizar":"Salvar"})})]},(null==d?void 0:d.id)||"novo")}var o=(0,r.$)("c85ed0424db41d1a46d426496864ac7791dcd073"),c=d(2493),x=d(5264),u=d(4323);function p(e){let{registros:a}=e;return(0,s.jsxs)("div",{className:"flex gap-4 my-4",children:[(0,s.jsx)("button",{onClick:function(){let e=new c.kH;(0,x.ZP)(e,{head:[["Data","C\xf3digo","Qtd","Descri\xe7\xe3o","Observa\xe7\xe3o","Estado"]],body:a.map(e=>[new Date(e.data).toLocaleDateString(),e.codigo,e.quantidade,e.descricao,e.observacao,e.estado])}),e.save("registros.pdf")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Exportar PDF"}),(0,s.jsx)("button",{onClick:function(){let e=u.P6.json_to_sheet(a.map(e=>({Data:new Date(e.data).toLocaleDateString(),Código:e.codigo,Quantidade:e.quantidade,Descrição:e.descricao,Observação:e.observacao,Estado:e.estado}))),d=u.P6.book_new();u.P6.book_append_sheet(d,e,"Registros"),u.NC(d,"registros.xlsx")},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Exportar Excel"})]})}function b(e){let{registros:a}=e,[d,r]=(0,l.useState)(!1),[t,n]=(0,l.useState)(null),c={Novo:"bg-green-100 text-green-800",Bom:"bg-blue-100 text-blue-800",Danificado:"bg-red-100 text-red-800"};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:d?"Editar Item":"Registrar Item"}),(0,s.jsx)(i,{initial:t,modoEdicao:d,setModoEdicao:r,setRegistro:n}),d&&(0,s.jsx)("button",{onClick:function(){n(null),r(!1)},className:"text-sm text-gray-600 hover:underline",children:"Cancelar edi\xe7\xe3o"}),(0,s.jsx)(p,{registros:a}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Registros"}),(0,s.jsxs)("table",{className:"w-full border text-sm text-center",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border px-2 py-1",children:"Data"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"C\xf3digo"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"Qtd"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"Descri\xe7\xe3o"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"Observa\xe7\xe3o"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"Estado"}),(0,s.jsx)("th",{className:"border px-2 py-1",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:a.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-2 py-1",children:new Date(e.data).toLocaleDateString()}),(0,s.jsx)("td",{className:"border px-2 py-1",children:e.codigo}),(0,s.jsx)("td",{className:"border px-2 py-1",children:e.quantidade}),(0,s.jsx)("td",{className:"border px-2 py-1",children:e.descricao}),(0,s.jsx)("td",{className:"border px-2 py-1",children:e.observacao}),(0,s.jsx)("td",{className:"border px-2 py-1",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(c[e.estado]),children:e.estado})}),(0,s.jsxs)("td",{className:"border px-2 py-1 space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{n(e),r(!0)},className:"text-blue-600 hover:underline",children:"Editar"}),(0,s.jsxs)("form",{action:o,children:[(0,s.jsx)("input",{type:"hidden",name:"id",value:e.id}),(0,s.jsx)("button",{type:"submit",className:"text-red-600 hover:underline",children:"Excluir"})]})]})]},e.id))})]})]})]})}}},function(e){e.O(0,[425,505,476,971,69,744],function(){return e(e.s=1931)}),_N_E=e.O()}]);